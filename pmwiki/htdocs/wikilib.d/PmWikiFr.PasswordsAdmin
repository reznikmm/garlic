version=pmwiki-2.0.12 ordered=1 urlencoded=1
agent=Mozilla/5.0 (X11; U; Linux i686; fr; rv:1.7.12) Gecko/20051010 Firefox/1.0.7 (Ubuntu package 1.0.7)
author=jlv 10-28
host=82.229.148.55
name=PmWikiFr.PasswordsAdmin
rev=6
targets=PmWikiFr.Security,PmWikiFr.GroupesWiki,PmWikiFr.PmWiki,PmWikiFr.WikiAdministrator,PmWikiFr.LocalCustomization,PmWikiFr.Passwords,PmWikiFr.WikiGroups,PmWikiFr.EnvoyerDesFichiersSurLeSite,PmWikiFr.GroupAttributes,Site.SideBar,PmWikiFr.AuthUser,PmWikiFr.PasswordsAdmin,PmWikiFr.DocumentationIndex,PmWiki.Security,PmWikiFr.Securité,Main.GroupAttributes,PmWiki.GroupAttributes,PmWikiFr.MotsDePasse,PmWikiFr.IndexDocAdmin
text=%25tr%25traduction en chantier débutée le 01/11/05.%0a%0aPmWiki possède un système intégré de gestion d'accès par mots de passe à différentes parties du site. Ces mots de passe peuvent être appliqués à des pages individuelles, à des [[groupes Wiki]], ou à l'ensemble du site Wiki. Notez que les mots de passe ne sont qu'une petite partie de l'aspect sécurité d'un site Wiki, pour un aperçu global, consultez  [[PmWikiFr.Security|Les Sécurités de PmWiki]]. %0a%0a%0aLes auteurs peuvent utiliser PmWiki pour ajouter des mots de passe aux pages individuelles et aux WikiGroups comme décrit dans [[PmWikiFr.Passwords]].  Cependant, [[PmWikiFr.WikiAdministrator|Les administrateurs Wiki]] peuvent aussi appliquer des mots de passe grace à des fichiers [[local customization|de personnalisation]] comme décrit ci-dessous.%0a%0a!! Les bases des mots de passe%0a%0aPmWiki supporte plusieurs types d'accès aux pages wiki.%0a-> @@read@@ est le mot de passe qui autorise la lecture des pages.%0a-> @@edit@@ est celui qui autorise l'édition et la modification des pages.%0a-> @@attr@@ est celui qui autorise l'initialisation et la modification des mots de passe pour les différents attributs (et potentiellement d'autres attributs futurs).%0a-> @@upload@@ autorise la possibilité d'attacher des fichiers (si la fonctionnalité [[envoyer des fichiers sur le site]] est activée).%0a%0aEnfin, il y a un mot de passe ''admin'' qui permet à l'administrateur de prendre la main sur tout mot de passe affecté à une page ou un groupe.%0a%0aPar défaut, PmWiki a la configuration de mots de passe suivante:%0a* Les mots de passe @@admin@@ et @@upload@@ sont bloqués par défaut%0a* Les groupes Main et PmWiki ont un mot de passe @@attr@@ bloqué (dans leurs pages .GroupAttributes respectives).%0a* Les pages dans le groupe Site sont bloquées contre l'édition, excepté Site.SideBar.%0a%0aUn mot de passe @@admin@@ peut être utilisé pour dépasser les mots de passe bloqués, sinon, aucun mot de passe ne permettra l'accès.  %0a%0aRegarder [[PmWikiFr.Passwords|Mots de passe]] pour de l'information au sujet de l'application de mots de passe par page et par groupe. Le reste de cette page décrit l'application des mots de passe pour l'ensemble du site depuis le fichier ''local/config.php''.%0a%0a!! Application de mots de passe au site entier%0a%0aLa première chose qu'un administrateur devrait savoir est d'appliquer un mot de passe @@admin@@ au site.  Ceci est réalisé par une ligne dans le fichier ''local/config.php'' comme ce qui suit:%0a%0a    $DefaultPasswords['admin'] = crypt('secret_password');%0a%0aNotez que l'appel crypt() est requis pour cela -- PmWiki stocke et gère tous les mots de passe%0acomme des objets cryptés. Voyez le  [[#crypt | crypt section]] dessous pour des détails sur l'élimination des mots de passe en clair dans le fichier de configuration.%0a%0aPour restreindre l'édition du site entier à ceux qui connaissent le mot de passe "edit",%0aAjoutez une ligne comme suit au fichier ''local/config.php'':%0a%0a    $DefaultPasswords['edit'] = crypt('edit_password');%0a%0aDe même, vous pouvez activer [@$DefaultPasswords['read']@], [@$DefaultPasswords['attr']@], et [@$DefaultPasswords['upload']@] pour contrôler les mots de passe par défaut @@read@@, @@edit@@, and @@upload@@ pour le site entier.  Les mots de passe par défaut sont utilisés seulement pour les pages qui n'ont pas de mot de passe actifs.  De plus, chaque valeur $DefaultPasswords peut contenir une rangée de mots de passe:%0a%0a    $DefaultPasswords['read'] = array(crypt('alpha'), crypt('beta'));%0a    $DefaultPasswords['edit'] = crypt('beta');%0a%0aCes lignes signifient que "alpha" ou bien "beta" peuvent être utilisés pour lire les pages, mais seul le mot de passe "beta" accordera l'autorisation d'éditer une page. Comme PmWiki retient n'importe quel mot de passe entré durant la session en cours, le mot de passe "beta" permettra à la fois la lecture et l'écriture des pages, tandis que le mot de passe "beta" permet seulement la lecture. Une personne sans aucun mot de passe ne pourra consulter aucune page.%0a%0a!! Connexion avec Identification  ( requière un nom d'utilisateur plus un mot de passe [[AuthUser]])%0a%0aContrairement à beaucoup de systèmes qui ont qui ont une méthode d'identification pour contrôler l'accès aux pages (c'est à dire,avec un''nom d'utilisateur'' et un ''mot de passe'' pour chaque personne), PmWiki est par défaut un système ''à mot de passe'' comme décrit ci-dessus. En général les systèmes de ce type sont souvent plus faciles à maintenir car ils évitent les tâches administratif de création de comptes utilisateur, de récupération des mots de passe perdus et la gestion des droits  accordés à chaque utilisateur.%0a%0aHowever, PmWiki's ''authuser.php'' script augments the password-based system to allow access to pages based on a username and password combination.  See [[AuthUser]] for more details on controlling access to pages based on user identity.%0a%0a!!Security holes ...%0a%0aAdministrators need to carefully plan where passwords are applied to avoid opening inadvertent security holes. If your wiki is open (anyone can read and edit), this would not seem to be a concern, '''except''', a malicious or confused user could apply a read password to a group and make the group completely unavailable to all other users. At the very least, even an open wiki should have a site-wide "admin" password and a site-wide "attr" password set in config.php. The ''sample-config.php'' file distributed with PmWiki indicates that the PmWiki and Main groups have "attr" locked by default, but if anyone creates a new group, "attr" is unlocked. Administrators must remember to set "attr" passwords for each new group (if desired) in this case. An easier solution is to include these lines in ''config.php'' :%0a%0a-> [@%0a$DefaultPasswords['admin'] = crypt('youradminpassword');%0a$DefaultPasswords['attr'] = crypt('yourattrpassword');%0a@]%0a%0a!! Encrypting passwords in ''config.php'' [[#crypt]]%0a%0aOne drawback to using the crypt() function directly to set passwords in ''config.php'' is that anyone able to view the file will see the unencrypted password.  For example, if ''config.php'' contains%0a%0a    $DefaultPasswords['admin'] = crypt('mysecret');%0a%0athen the "mysecret" password is in plain text for others to see.  However, a wiki administrator can obtain and use an encrypted form of the password directly by using [@?action=crypt@] on any PmWiki url (or just jump to [[{$Name}?action=crypt]]).  This action presents a form that generates encrypted versions of passwords for use in the ''config.php'' file.  For example, when [@?action=crypt@] is given the password "@@mysecret@@", PmWiki will return a string like%0a%0a    [@$1$hMMhCdfT$mZSCh.BJOidMRn4SOUUSi1@]%0a%0aThe string returned from [@?action=crypt@] can then be placed directly into config.php, as in:%0a%0a    $DefaultPasswords['admin'] = [='$1$hMMhCdfT$mZSCh.BJOidMRn4SOUUSi1'=];  %0a%0aNote that in the encrypted form the ''crypt'' keyword and parentheses are removed, since the password is already encrypted.  Also, the encrypted password must be in single quotes.  In this example the password is still "@@mysecret@@", but somebody looking at ''config.php'' won't be able to see that just from looking at the encrypted form.  ''Crypt'' may give you different encryptions for the same password--this is normal (and makes it harder for someone else to determine the original password).%0a%0a!! Removing passwords%0a%0aTo remove a site password entirely, such as the default locked password for uploads, just set it to empty:%0a%0a    $DefaultPasswords['upload'] = '';%0a%0aYou can also use the special password "nopass" (defined by the $AllowPassword variable) via @@?action=attr@@ to have a non-password protected page within a password-protected group, or a non-password protected group with a site-wide default password set.%0a%0a!! Revoking or invalidating passwords%0a%0aIf a password is compromised and the wiki administrator wants to quickly invalidate all uses of that password on a site, a quick solution is the following in ''local/config.php'':%0a%0a    $ForbiddenPasswords = array('secret', 'tanstaafl');%0a    if (in_array(@$_POST['authpw'], $ForbiddenPasswords)) %0a      unset($_POST['authpw']);%0a%0aThis prevents "secret" and "tanstaafl" from ever being accepted as a%0avalid authorization password, regardless of what pages may be%0ausing it.%0a%0a!! See Also%0a%0a* The $HandleAuth array, which sets the required authentication level that is necessary to perform an action.%0a%0a%25trail%25%3c%3c|[[DocumentationIndex]]|>>%0a-----------------------------------------------------------------------------------------------%0a%25tr%25Traduction de PmWiki:PasswordsAdmin révisé en version 2%0a%0aPmWiki possède un système intégré de gestion d'accès par mots de passe à différentes parties du site. Ces mots de passe peuvent être appliqués à des pages individuelles, à des [[groupes Wiki]], ou à l'ensemble du site Wiki. Notez que les mots de passe ne sont qu'une petite partie de l'aspect sécurité d'un site Wiki, pour un aperçu global, consultez  [[PmWiki.Security]] (%25gray%25 en anglais%25%25) |  [[PmWikiFr.Securité]] (%25gray%25 en français%25%25).%0a%0aPmWiki supporte plusieurs types d'accès à ces pages.%0a: :@@read@@ est le mot de passe qui autorise la lecture des pages.%0a: :@@edit@@ est celui qui autorise l'édition et la modification des pages.%0a: :@@attr@@ est celui qui autorise l'initialisation et la modification des mots de passe pour les différents attributs (et potentiellement d'autres attributs futurs).%0a: :@@upload@@ autorise la possibilité d'attacher des fichiers (si la fonctionnalité [[envoyer des fichiers sur le site]] est activée).%0a%0aEnfin, il y a un mot de passe ''admin'' qui permet à l'administrateur de prendre la main sur tout mot de passe affecté à une page ou un groupe.%0a%0aLes pages ont des mots de passe qui sont des "attributs de page" accessibles en utilisant la commande ''?action=attr'' à la fin de l'adresse URL de la page. Les mots de passe de groupe sont stockés dans une page spéciale pour chaque groupe nommée '''[=GroupAttributes=]'''. Les mots de passe du site sont stockés dans une variable tableau $DefaultPasswords. Tous les mots de passe sont stockés de manière encryptée de manière à ce qu'un utilisateur balayant le contenu du fichier ne puisse pas déterminer le mot de passe.%0a%0aPar défaut, $DefaultPasswords est configuré avec des mots de passe @@read,edit@@ et @@attr@@ vides pour tout le site (autorisant n'importe qui à voir et modifier les pages) et les mots de passe @@admin@@ et @@upload@@ sont verrouillés. De plus, les pages Main.GroupAttributes et PmWiki.GroupAttributes ont des mot de passe @@attr@@ bloqué pour empêcher les auteurs d'installer des mots de passe sur ces groupes (Pour changer ces mots de passe, utiliser [[Main.GroupAttributes?action=attr]] ou [[PmWiki.GroupAttributes?action=attr]]).%0a%0aPour enregistrer "mysecret" comme mot de passe administrateur, ajoutez la ligne suivante dans config.php:%0a%0a    $DefaultPasswords['admin'] = crypt('mysecret');%0a%0aBien sûr, n'importe qui capable de lire ''config.php'' trouverait votre mot de passe secret, aussi voici comment le crypter. Ajoutez @@?action=crypt@@ à la fin de n'importe quelle URL de `PmWiki (ou cliquer sur [[{$Name}?action=crypt]]) et un formulaire vous permettra d'obtenir la forme cryptée de votre mot de passe. Par exemple quand le cryptage est effectué sur le mot de passe "@@mysecret@@", PmWiki retourne une chaîne de caractères du genre%0a%0a    [=$1$hMMhCdfT$mZSCh.BJOidMRn4SOUUSi1=]%0a%0a(le résultat peut être différent sur votre système). Cette chaîne peut être mise directement dans ''config.php'' comme ceci :%0a    [=%0a    $DefaultPasswords['admin'] = '$1$hMMhCdfT$mZSCh.BJOidMRn4SOUUSi1';=]%0a%0aNotez que le mot de passe crypté est entouré d' apostrophes (single-quotes). Maintenant, le mot de passe est toujours "@@mysecret@@", mais quelqu'un qui regardera dans ''config.php'' ne verra que sa forme crypté. ''Crypt'' peut vous donner des résultats différents pour le cryptage du même mot de passe--c'est normal (et rend encore plus difficile pour quelqu'un d'autre de déterminer le mot de passe original).%0a%0aDe la même manière, vous pouvez établir @@[=$DefaultPasswords['read']=]@@, @@[=$DefaultPasswords['edit']=]@@ et @@[=$DefaultPasswords['attr']=]@@%0apour contrôler le comportement par défaut de tout le site à travers les mots de passe @@read@@, @@edit@@ et @@attr@@. Les mots de passe par défaut sont utilisés uniquement pour les pages et les groupes qui n'ont aucun mot de passe particulier. La valeur de ces variables peuvent aussi être des mots de passe cryptés. %0a%0aPour supprimer un mot de passe de site, définissez un mot de passe vide :%0a%0a   $DefaultPasswords['uploads'] = '';%0a  %0aDans `PmWiki, les mots de passe de page ont priorité sur les mots de passe de groupe, les mots de passe de groupe sur les mots de passe par défaut, et le mot de passe @@admin@@ a priorité sur tous les autres mots de passe. Ce qui procure une grande flexibilité pour contrôler l'accès des pages d'un site `PmWiki. Le mot de passe spéciale "nopass" (défini par la variable $AllowPassword) peut être utilisé pour rendre public l'accès d'une page à l'intérieur d'un groupe protégé ou bien l'accès d'un groupe à l'intérieur d'un site protégé.%0a%0aPour l'utilisation même de `PmWiki sur comment gérer les mots de passe sur des pages individuelles ou  sur des [[groupes Wiki]] via ?action=attr, consultez [[mots de passe]].%0a%0a----%0a%25trail%25%3c%3c|[[Index doc admin]]|>>%0a%0a----%0a%25tr%25Traduction de PmWiki:PasswordsAdmin - Page originale sur PmWiki:PmWikiFr.AdministrationDesMotsDePasse
time=1131384656
