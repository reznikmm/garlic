version=pmwiki-2.1.3 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.1) Gecko/20060111 Firefox/1.5.0.1
author=Holo
csum=translated
ctime=1142529471
host=195.98.173.2
name=PmWikiRu.PageLists
rev=2
targets=PmWikiRu.WikiTrails,Site.PageListTemplates,PmWikiRu.Categories,PmWikiRu.MarkupMasterIndex,PmWikiRu.DocumentationIndex
text=(:title Списки страниц:)%0a%0a%25audience%25 авторам, администраторам (средний)%0aPmWiki поставляется с двумя встроеными директивами для построения списков страниц -- [@(:pagelist:)@] и @@[=(:=]searchresults:)@@. Основная разница между ними состоит в том, что [@searchresults@] дописывает сообщения "Результаты поиска для ..." в начало и "Найдено №№№ страниц среди №№№ страниц" в конец результатов -- а во всём остальном они по сути одинаковы.%0a%0a!! Основной синтаксис%0a* [@(:pagelist:)@] без аргументов показывает маркированый список ссылок на все страницы отсортированых в группы по алфавиту.%0a* [@(:pagelist group=abc fmt=def list=ghi order=jkl argument1 argument2 etc:)@] показывает список страниц согласно поддерживаемым параметрам. Параметры могут отсутствовать.%0a%0a!!Параметры%0aЛюбой аргумент в [@(:pagelist:)@] не являющийся равенством (@@'key=value'@@) воспринимается как текст, который должен(или нет) присутствовать в тексте страниц попадущих в список. Таким образом:%0a%0a    [@(:pagelist trail=PmWiki.DocumentationIndex list=normal яблочный -пирог:)@]%0a%0aперечисляет все "normal"(обычные) страницы цепочки [@DocumentationIndex@] и содержащие слово "яблочный", но не "пирог".%0a%0a!!!group= и name= %0aПараметры "[@group=@]" и "[@name=@]" ограничивают результаты страницами из указаной группы(group) или с указаным именем(name):%0a%0a    [@# Все страницы из группы Pmwiki:%0a    (:pagelist group=PmWiki :)%0a    # Все страницы не из групп PmWiki и Site:%0a    (:pagelist group=-PmWiki,-Site :)%0a    # Все страницы RecentChanges%0a    (:pagelist name=RecentChanges :)%0a    # Все страницы кроме RecentChanges%0a    (:pagelist name=-RecentChanges :)@]%0a%0a!!!Обобщения%0aПараметры [@name@] и [@group@] могут содержать символы ''обобщения'' которые отображают только страницы совпадающие с указанным образцом:%0a* Звёзда (*) представляет ноль или более любых символов;%0a* Знак вопроса представляет только один любой символ.%0a%0aПримеры:%0a%0a    [@# Все страницы из групп с именем начинающимся с "PmWiki"%0a    (:pagelist group=PmWiki* :)%0a    # Все страницы из групп с именем начинающимся с "PmWiki", кроме Китайской(Zh)%0a    (:pagelist group=PmWiki*,-PmWikiZh* :)%0a    # Все страницы из группы PmCal с именами начинающимися с "2005":%0a    (:pagelist name=PmCal.2005* :)@]%0a%0a!!!trail= %0aОпция "[@trail=@]" берёт список страниц для показа из [[WikiTrails|цепочки страниц]]:%0a%0a    [@# Показать все страницы документации отсортированые по времени редакции%0a    (:pagelist trail=PmWiki.DocumentationIndex order=-time:)%0a    # Показать пять недавно изменённых страниц%0a    (:pagelist trail=RecentChanges count=5:)@]%0a%0a!!!list= %0aЭтой опцией указывается имя фильтра для формируемого списка. Изначально у PmWiki определён только один фильтр - "[@list=normal@]", который исключает из результата служебные страницы AllRecentChanges, RecentChangesб GroupHeader, GroupFooter... и т.п. Вики администратор может добавить в массив $SearchPatterns свои собственные фильтры. (смотри [[Cookbook:SearchResults]]).%0a%0a!!!fmt= %0aПараметр "[@fmt=@]" указывает формат вывода списка. В PmWiki встроено несколько форматов:%0a* @@fmt=#bygroup@@ - Показать страницы по группам в алфавитном порядке%0a* @@fmt=#simple@@ - Показать простой упорядоченый список страниц%0a* @@fmt=#title@@ - Показать список заголовков страниц.  Используйте "[@order=title@]" для сортировки по заголовкам (по умолчанию сортировка идёт по именам страниц).%0a* @@fmt=#group@@ - Показать список групп%0a* @@fmt=#include@@ - Показать в списке содержимое каждой страницы. (для справки, процесс формирования страницы для большого списка может занять много времени!)%0a%0aИндивидуальные форматы списков страниц могут быть определены используя шаблоны списков и вызваны опцией [@fmt=@]. (Изначальные шаблоны форматов списков PmWiki определены на странице [[Site.PageListTemplates]].) Есть несколько способов указать какой шаблон используется:%0a* [@fmt=#custom@] использует раздел #custom из [[Site.PageListTemplates]] (раздел подписан якорем [@[[#custom]]@].%0a* [@fmt=MyTemplatePage#custom@] использует формат со страницы MyTemplatePage из секции #custom.%0a* [@fmt=custom@] использует формат, который определён в cookbook сценарии как ''custom''.%0a%0aCookbook:PagelistTemplateSamples содержит много примеров индивидуальных форматов списков.%0aВ дополнение, в [[Cookbook:Cookbook]] есть и другие рецепты особых значений [@fmt=@], включая [[Cookbook:DictIndex | [@fmt=dictindex@] ]] (алфавитный индекс) и [[Cookbook:SimpleForum | [@fmt=forum@] ]] (темы форума).%0a%0a!!!link= %0aСписки страниц ссылающихся на указаную получаются, если воспользоваться параметром "[@link=@]", который особенно удобен для страниц [[categories|категорий]] и поиска связанных страниц.%0a%0a    [@# все страницы со ссылкой на PmWiki.DocumentationIndex%0a    (:pagelist link=PmWiki.DocumentationIndex:)%0a    # все страницы со ссылкой на текущую страницу%0a    (:pagelist link={$FullName}:)%0a    # все страницы категории "Skins"%0a    (:pagelist link=Category.Skins:)@]%0a%0a!!!count= %0aДлина списка ограничивается параметром "[@count=@]".%0a%0a    [@# Простой маркированый список десяти свежайших страниц%0a    (:pagelist trail=Site.AllRecentChanges count=10 fmt=#simple:)@]%0a%0a!!!order=%0aДля изменения порядка сортировки списка пользуются параметром "[@order=@]". Отрицательное значение параметра указывает на обратный порядок сортировки. Множество критериев сортировки указываются через запятую:%0a* [@order=name@] - алфавитная сортировка по имени%0a* [@order=-name@] - обратная алфавитная сортировка%0a* [@order=title@] - сортировка по заголовкам%0a* [@order=-time@] - более свежие страницы будут ближе к началу списка%0a* [@order=ctime@] - по времени создания страниц%0a* [@order=size@] - сортировка по размеру страниц%0a* [@order=group,title@] - сортировка по группам, а затем по заголовкам%0a* [@order=random@] - перемешать страницы в произвольную последовательность%0a%0a!! Примеры%0a%0aВставить содержимое произвольной страницы из группы Banners(Баннеры):%0a%0a    [@(:pagelist group=Banners order=random count=1 fmt=#include list=normal:)@]%0a%0aПоказать простой список десяти свежайших страниц:%0a%0a    [@(:pagelist trail=Site.AllRecentChanges count=10 fmt=#simple:)@]%0a%0a!! Также смотри%0a%0a* [[MarkupMasterIndex#Directives]] - показать список прикреплённых файлов%0a* [[Site.PageListTemplates]] - шаблоны форматов списков%0a* [[Cookbook:PagelistTemplateSamples]] - ещё шаблоны форматов%0a%0a%25trail%25%3c%3c|[[Documentation Index|+]]|>>
time=1142977710
title=Списки страниц
