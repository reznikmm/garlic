version=pmwiki-2.0.10 ordered=1 urlencoded=1
agent=Mozilla/5.0 (Windows; U; Windows NT 5.1; fr-FR; rv:1.7.10) Gecko/20050717 Firefox/1.0.6 (ax)
author=Jean-Dom
host=62.35.164.27
name=PmWikiFr.ApprobationDesURLs
rev=16
targets=PmWikiFr.MotsDePasse,PmWikiFr.RechercheRéférences,PmWikiFr.IndexDocAdmin,PmWikiFr.FermesWiki
text=(:title Approbation des URLs:)%0aIl existe un script ''urlapprove.php'' d'approbation des adresses Internet (URL), présent en standard dans la distribution. Pour l'activer vous devez ajouter la ligne suivante dans le fichier local/config.php : %0a [=include_once('scripts/urlapprove.php');=]%0a%0aVous approuverez alors les `URLs en les ajoutant à une "liste blanche" définie dans la variable $WhiteUrlPatterns dans le fichier de configuration local/config.php.\\%0aPour ajouter plusieurs `URLs, utilisez le séparateur | (ne mettez pas de blancs). Par exemple:%0a [=$WhiteUrlPatterns =%0a    "http://exemple.com/|http://exemple.net/|http://exemple.org/"=]%0a%0aCette liste blanche est aussi complétée en chargant le contenu de la page ''`Main.ApprovedUrls''. %0a%0aA la suite d'un lien non approuvé s'affichera un message ''"(Approuver les sites)"''. Un click sur ce lien approuvera tous les sites de la page, si vous avez le droit d'écrire sur la page ''`Main.ApprovedUrls''.\\%0aSi vous voulez que les liens ne puissent être approuvés que par des personnes agréées, cette page doit être protégée par un [[mot(s) de passe]]. Dans ce cas, le mot de passe vous sera demandé après avoir cliqué sur le lien du message ''"(Approuver les sites)"''. %0a%0aSi vous voulez changer le nom de la page écrivez dans local/config.php (après la ligne d'inclusion du script):%0a [= $ApprovedUrlPagesFmt = array('AutreGroupe.AutreNom');=]%0aGénéralement, ce sera %0a [=array('$DefaultGroup.LiensApprouvés');=]%0a%0aVous pouvez limiter le nombre de liens non approuvés par page. En cas de dépassement du nombre de liens, la page ne peut pas être enregistrée. Ceci est utile car les spammeurs écrivent de longues listes de liens. Pour activer cette limite écrire dans le fichier local/config.php la ligne suivante (la valeur 5 est uniquement donnée comme exemple):%0a  $UnapprovedLinkCountMax = 5; #par défaut 100000%0a%0aVous pouvez aussi faire en sorte que `PmWiki affiche un message de désapprobation défini dans la variable $UnapprovedLinkFmt, par exemple:%0a [=$UnapprovedLinkFmt = %0a  "%3cb>Adresse non affichée avant approbation%3c/b>%3ca class='apprlink'%0a   href='\$PageUrl?action=approvesites'>$[(approve sites)]%3c/a>";%0a=]%0aCeci n'est pas forçément pratique pour celui qui doit approuver les liens, et n'est donc à utiliser qu'en dernier ressort, ou bien si l'on souhaite interdire toute addition de lien. Dans ce cas, le message peut se réduire à :%0a  $UnapprovedLinkFmt = "%3cb>Pas de lien possible%3c/b>";%0a%0a----%0a%25trail%25%3c%3c|[[Index doc admin]]|>>%0a%0a----%0a%25tr%25Traduction de la page PmWiki:UrlApprovals - page originale sur PmWiki:PmWikiFr.ApprobationDesURLs
time=1128706312
title=Approbation des URLs
