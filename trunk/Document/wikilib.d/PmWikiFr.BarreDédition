version=pmwiki-2.0.beta26
newline=²
time=1111865079
text=(:title Barre d'édition:)²!!!Question²²Comment puis-je ajouter une barre de boutons dans la fenêtre d'édition comme sur le site pmwiki.org ?²²!!!Réponse²²Dans le fichier local/config.php ajouter :²²  $EnableGUIButtons = 1;²²C'est tout !²²!!!Options ²²!!!! Boutons plus grands²Vous trouvez peut-être les boutons originaux un peu petits (22x22), utilisez alors un nouveau jeu de boutons plus grands (34x32) :²²[[GUIButtons32.zip->http://www.pmwiki.org/pmwiki/uploads/Cookbook/GUIButtons32.zip]]²²Ces boutons seront installés dans un nouveau sous-répertoire de /pub, par exemple pub/guiedit32.\\²Ajoutez la ligne suivante au fichier local/config.php :²² $GUIButtonDirUrlFmt = '$FarmPubDirUrl/guiedit32'; ²²²!!!!Nouveaux boutons²Vous pouvez ajouter de nouveaux boutons en mettant leur description dans le fichier local/config.php.²²Ce script ajoute une barre de boutons au formulaire d'édition.²²Les boutons sont placés dans le tableau $GUIButtons, chaque bouton est décrit par un tableau de cinq valeurs :²* la position du bouton relativement aux autres (un nombre)²* la séquence de balise d'ouverture²* la séquence de balise de fermeture²* le texte par défaut si rien n'est sélectionné²* le texte du bouton, soit (a) une balise HTML ou (b) l'URL d'une image gif/jpg/png à utiliser pour le bouton (avec le "title" optionnel entre guillemets).²²La position est juste un numéro d'ordre, vous pouvez avoir des écarts supérieurs à 1 entre les nombres, ce qui permet de réserver de la place pour insérer des boutons plus tard.²²Les positions actuelles sont :²²* 'em' : 100²* 'strong' : 110²* 'pagelink' : 200²* 'extlink' : 210²* 'attach' : 220²* 'big' : 300²* 'small' : 310²* 'sup' : 320²* 'sub' : 330²* 'h2' : 400²* 'center' : 410²²²'''Autres boutons du fichier sample-config'''²²* Pour les en-têtes - la différence avec l'existant est l'image² [= $GUIButtons['h2'] = array(400, '\\n!! ', '\\n', '$[Heading]',²                     '$GUIButtonDirUrlFmt/h2.gif"$[Heading]"');²=]²* Pour les sous en-têtes² [= $GUIButtons['h3'] = array(402, '\\n!!! ', '\\n', '$[Subheading]',²                     '$GUIButtonDirUrlFmt/h3.gif"$[Subheading]"');²=]²* Pour indenter le texte² [= $GUIButtons['indent'] = array(500, '\\n->', '\\n', '$[Indented text]',²                     '$GUIButtonDirUrlFmt/indent.gif"$[Indented text]"');²=]²* Pour indenter négativement le texte (l'indentation débute à la deuxième ligne)² [= $GUIButtons['outdent'] = array(510, '\\n-<', '\\n', '$[Hanging indent]',²               '$GUIButtonDirUrlFmt/outdent.gif"$[Hanging indent]"');²=]²* Pour une liste ordonnée² [= $GUIButtons['ol'] = array(520, '\\n# ', '\\n', '$[Ordered list]',²               '$GUIButtonDirUrlFmt/ol.gif"$[Ordered (numbered) list]"');²=]²* Pour une liste à puces² [= $GUIButtons['ul'] = array(530, '\\n* ', '\\n', '$[Unordered list]',²               '$GUIButtonDirUrlFmt/ul.gif"$[Unordered (bullet) list]"');²=]²* Pour une ligne de séparation horizontale² [= $GUIButtons['hr'] = array(540, '\\n----\\n', '', '',²               '$GUIButtonDirUrlFmt/hr.gif"$[Horizontal rule]"');²=]²* Un modèle de tableau simple² [= $GUIButtons['table'] = array(600,²           '||border=1 width=80%\\n||$[!Hdr] ||$[!Hdr] ||$[!Hdr] ||\\n'.²           '||     ||     ||     ||\\n||     ||     ||     ||\\n',²           '', '', ²           '$GUIButtonDirUrlFmt/table.gif"$[Table]"');²=]²²!!!! Boutons divers²²* Un modèle de tableau élaboré² [= $GUIButtons ['advtable'] = array(610, ²    '(:table border=1 width=80%:)\\n(:cellnr:)\'\'\'$[Header]\'\'\'\\n'.²    '(:cell:)\'\'\'$[Header]\'\'\'\\n(:cell:)\'\'\'$[Header]\'\'\'\\n'.²    '(:cellnr:)\\n(:cell:)\\n(:cell:)\\n(:tableend:)\\n',²    '', '', '$GUIButtonDirUrlFmt/table2.gif"$[Advanced table]"'); ²=]²²!!!! Boutons pour les addons du Cookbook : ²²* Table de matières - voir [[Table des matières]] - bouton au début - (actuellement, image uniquement dans le jeu 34x32) ²² [=  $GUIButtons ['pagetoc'] = array(90, '\\n(:toc:)\\n', '', '',²     '$GUIButtonDirUrlFmt/toc.gif"$[Table of content]"');				²=]²²* Minimage - voir [[création automatique de vignettes]] - bouton à la fin.² [=  $GUIButtons ['image'] = array(620, 'Img:', '', '$[MyImage.jpg]',²     '$GUIButtonDirUrlFmt/image.gif"$[Insert image]"');²=]²²!!!Discussion²²Une amélioration au script peut être d'autoriser l'annulation. Sur certains navigateurs/systèmes 'Ctrl-Z' fonctionne, mais pas sur tous.²²!!!Problèmes²* Dans Opera et Khtml le texte est "inlined" à la fin du document, pas à la postion du curseur. - [[~Schlaefer]]²-->%Pm% C'est une limitation d'Opera -- Opera ne permet pas de trouver la position du curseur ou d'insérer du texte au milieu d'un élément <textarea>. Je ne sais pas pour Khtml, mais je suppose qu'il s'agit du même problème.  --[[~Pm]]²²Je ne le savais pas. Je choisis de ne pas afficher la barre de boutons en mettant ce qui suit à la fin de insButton()² [=var clientPC = navigator.userAgent.toLowerCase(); ² var BrowserIsSafari = ((clientPC.indexOf('applewebkit')!=-1)²                 && (clientPC.indexOf('spoofer')==-1));² var BrowserIsOpera = clientPC.indexOf('opera')!=-1;² if (BrowserIsSafari || BrowserIsOpera) return;²=]²²[[~Schlaefer]]²²!!!Voir aussi²²Un exemple de barre de gros boutons avec les boutons décrits ci-dessus :²²http://cncloisirs.com/Fonctionnement.BacASable?action=edit²²Note : vous pouvez aussi trouver sur cette fenêtre d'édition, la suppression du menu, de l'en-tête et du pied de page décrits ici : [[Cookbook/layout edit modified]]²²!!!Traduction²²Le texte associé aux boutons peut être traduit dans un langage donné dans les  XLPage(s). Voir le paragraphe approprié dans PmWiki.XLPageTemplate.²²!!!Contributeurs²²* [[~PRZ]]²²----²%trail%<<|[[Index compléments]]|>>²²----²%tr%Traduction de [[(PmWiki:)Cookbook.GuiEdit]] - Page originale sur PmWiki:PmWikiFr.BarreDédition
targets=PmWikiFr.TableDesMatières,PmWikiFr.CréationAutomatiqueDeVignettes,Profiles.Schlaefer,Profiles.Pm,Cookbook.LayoutEditModified,PmWikiFr.XLPage,PmWiki.XLPageTemplate,Profiles.PRZ,PmWikiFr.EditerParDoubleClick,PmWikiFr.IndexCompléments,PmWikiFr.FormatageDesTableauxSimples
author=PRZ
name=PmWikiFr.BarreDédition
host=82.124.112.212
agent=Mozilla/5.0 (Windows; U; Windows NT 5.1; fr-FR; rv:1.7.6) Gecko/20050226 Firefox/1.0.1
rev=3
title=Barre d'édition
