version=pmwiki-2.0.beta53 ordered=1
newline=²
agent=pmwikiedit
author=Pm
host=38.119.121.196
name=PmWiki.ReleaseNotes
rev=74
targets=PmWiki.Images,PmWiki.ChangeLog,PmWiki.PmWiki,Site.EditForm,Site.AllRecentChanges,Main.AllRecentChanges,Site.Search,Site.ApprovedUrls,Main.ApprovedUrls,PmWiki.WikiTrails,PmWiki.ListPages,PmWiki.WikiGroup,PmWiki.PageText,PmWiki.SetTmplDisplay,PmWiki.SimpleTables,PmWiki.InterMap,PmWiki.WikiStyles,PmWiki.WikiWord,PmWiki.EditQuickReference,PmWiki.UploadQuickReference,PmWiki.LayoutBasics
text=!!!Version 2.0.beta54 (1-Aug-2005)\\²Version 2.0.beta53 (30-Jul-2005)²²This release restores ?action=search, to be able to perform searches²in the context of a group or current page.  It also modifies the²[@(:searchbox:)@] directive to allow a "group=" option to limit²searches to certain groups.²²!!!Version 2.0.beta52 (29-Jul-2005)²²This release provides a number of minor bugfixes and introduces improvements²to image handling.  Most of the improvements for images are described²on the [[PmWiki.Images]] page.  Other changes are in the [[ChangeLog]].²²!!!Version 2.0.beta51 (22-Jul-2005)²²This release corrects a problem introduced by the "Save and Edit"²capabilities introduced in 2.0.beta44 -- posts made with "Save and Edit"²could bypass blocklists, urlapprovals, and simultaneous edits.²²For administrators and recipe writers who have been working with²posting capabilities, posting is now controlled by an $EnablePost²variable.  Setting $EnablePost to zero suppresses the actual post --²previously this was generally performed with [@unset($_POST['post'])@].²If appropriate, a message for why the post was suppressed can²usually be placed in the $MessagesFmt array.²²!!!Version 2.0.beta50 (20-Jul-2005)²²This release makes two major improvements to the authorization²semantics in PmWiki:²²1.  The $HandleAuth array can be used to set the authorization²level required for executing a corresponding action.  For example,²setting $HandleAuth['diff'] to 'edit' means that edit authorizations²are required to view the page history ([@?action=diff@]).  Similarly,²setting $HandleAuth['source'] to 'admin' means that only the²admin would be able to use [@?action=source@].²²2.  Passwords can now "cascade" -- that is, if a page sets a 'read'²password but not an 'edit' password, then the read password²is also used as the edit password.  Similarly, if a page sets²an 'edit' password but not an 'attr' password, then the edit²password is also used as the attr password.²²This prevents situations where authors set an edit password²on a page but don't set a corresponding attr password.²²This does not change PmWiki's other passwording characteristics --²i.e., page passwords still override group passwords, and group²passwords still override site passwords.  Password cascading²is only used where there's no page, group, or site password set ²for a given authorization level.²²!!!Version 2.0.beta49 (19-Jul-2005)²²This release adds a Content-Disposition: header for sites that have²direct downloads disabled (automatically fills in a browser's filename²for such downloads).  It also fixes some issues with \\ markup at the²ends of lines.²²!!!Version 2.0.beta48 (13-Jul-2005)\\²Version 2.0.beta47 (12-Jul-2005)\\²Version 2.0.beta46 (11-Jul-2005)\\²Version 2.0.beta45 (10-Jul-2005)\\²Version 2.0.beta44 (10-Jul-2005)²²This release has a number of major changes, and is hopefully the²last such "major" release before 2.0.0.  ²²Included with this release is a special ''transition.php'' script²that reconfigures PmWiki as needed to cause it to work as it did²in previous releases.  In the release notes below any changes²that are handled by the transition script are marked by [+].²This transition script is automatically loaded by default so the²site admin doesn't need to do anything to use it.²²Eventually the transition script will also provide diagnostic²options to inform site admins of places where they may be relying²on outdated or deprecated features, and how they can change their²settings to be up-to-date.²²PmWiki now sets CSS stylings so that all images within a page are²displayed without a border (HTML's default is a 1-pixel border).²To restore the behavior of previous versions, add the following to²''local/config.php'':²²    $HTMLStylesFmt['img'] = ' img { border:1px solid; } ';²    $ImgTagFmt="<img src='\$LinkUrl' style='border:0px;' alt='\$LinkAlt' />";²²With this release we are officially initiating use of the "Site"²group discussed on the pmwiki-users mailing list.  The Site group ²is intended to hold a variety of utility and configuration pages ²used by PmWiki, and many of PmWiki's pages have moved from the ²"Main" group into this new location.  More on this in a bit.²²The major internal change is that this release provides support²for input forms.  Notably, the "Edit Page" form layout can now²be specified using wiki markup in the Site.EditForm page.  ( [+] However,²PmWiki still honors the $PageEditFmt variable for those sites or²skins that may have customized edit forms.)²²The edit form now includes a "change summary" line where authors²can summarize the edits.  The edit form can also contain ²a "Save and edit" button to save changes but continue editing, and²a "Cancel" button for abandoning changes.²²The $EditMessageFmt variable for displaying messages to authors²is now the $MessagesFmt array, which can be displayed using the²[=(:messages:)=] markup.  [+] The transition script takes care²of moving messages between $EditMessageFmt and $MessagesFmt as²need to preserve correct operation.²²A number of traditional locations for pages have now been moved²into the Site group, many of which are handled by the transition²script:²²* The new location for the `AllRecentChanges page is Site.AllRecentChanges.  [+] However, if `Main.AllRecentChanges exists then it will continue to be updated also.  Administrators may wish to move `Main.AllRecentChanges to Site.AllRecentChanges and/or remove Main.AllRecentChanges entirely.²²* The search results page is now [[Site.Search]] instead of `Main.SearchWiki.  `Main.SearchWiki will be removed entirely in a future release.  [+] The transition script takes care of mapping some instances of `Main.SearchWiki in links to Site.Search.²²* Approved urls are now stored in Site.ApprovedUrls .  [+] However, if Main.ApprovedUrls exists it is used and updated as appropriate.²²* `Main.SideBar is now `Site.SideBar.  Unfortunately, it's very difficult to manage this particular change among all possible skin combinations, so it's up to the admin to correctly move existing sidebar pages into the appropriate group, or to update the skin template accordingly.²²* `PmWiki.EditQuickReference and `PmWiki.UploadQuickReference are now stored in the Site group.²²* `PmWiki.WikiHelp is being deprecated and will be removed from a future release.²²The $PagePreviewFmt variable no longer exists in standard PmWiki (it's now handled by Site.EditForm).  [+] However, to preserve backwards compatibility it is loaded by the transition script in certain situations.²²The $PageName substitution (deprecated in 2.0.devel14) is now gone.²Use $FullName instead.²²The GUI buttons can now have accesskeys associated with them.²²GUI buttons are now displayed via a [@(:e_guibuttons:)@] directive in Site.EditForm, instead of being attached to $EditMessagesFmt.²²This release now provides the ability for user and browser-specific²preferences and customizations, including accesskeys and form element²sizes.  More details about this will be forthcoming in documentation.²²The release adds standard [@(:noleft:)@] and [@(:noright:)@] directives for suppressing the display of the left and right sidebars (depending on skin template).²²²!!!Version 2.0.beta43 (8-Jul-2005)²²This release adds the long awaited [@(:div:)@] markup.  The format of²the markup is²    [=²    (:div:)²    ...²    (:divend:)²    =]²Attributes (e.g., [@id='name'@] and [@class='class'@] can be supplied ²to the [@(:div:)@] directive.  [@(:div:)@] lives in the same markup²layer as advanced tables [@(:table:)@], so divs and tables do not²nest, and any div or advanced table directive ends any previous²[@(:div:)@].  (We may change this in a future release; for now we'll go²with the non-nesting version.)²²The release also adds a div shortcut, any line beginning with >><<²marks a new div section.  In addition, wikistyle specifications²can go between the >> and <<, thus [@>>bgcolor=#ffffdd<<@] will create²a division with a light yellow background.  Similarly, one can²do things like [@>>id=foo<<@], [@>>class=bar<<@], and even make²use of author-defined wikistyles such as >>center<< or >>Don<<.²²Lastly, the wikistyle code now supports [@%id=name%@], which²allows an HTML [@id='name'@] attribute to be added to the²affected text.²²!!!Version 2.0.beta42 (7-Jul-2005)²²This minor release adds the [@(:if attachments:)@] conditional markup, to include/exclude markup based on the (non)existence of attachments to the current page.²²!!!Version 2.0.beta41 (7-Jul-2005)²²This is a minor release with some small bugfixes to uploads, adding the ability to set the item number for ordered lists with [@%item value=nn%@], and enabling nested Keep()s for module writers.²²!!!Version 2.0.beta40 (22-Jun-2005)²²This very minor release simply updates the authuser.php script to ²support Apache `MD5 encryption in .htpasswd files.²²!!!Version 2.0.beta39 (20-Jun-2005)²²This release primarily fixes some bugs with wikistyles and their interactions with block structures such as tables and headings.  In addition, the release fixes some nagging errors with opening directories in PITS and other recipes.²²This release also adds definition lists to the available syntaxes for building WikiTrails.²²Finally, this release adds ''scripts/authuser.php'', which is a preliminary script for user-authentication based on .htpasswd (and similarly formatted) files.²²!!!Version 2.0.beta38 (14-Jun-2005)²²This version performs a minor bug fix to the ListPages() function for those sites that are storing pages in per-group subdirectories.²²!!!Version 2.0.beta37 (26-May-2005)²²This version performs some minor bug fixes and improvements:²* Changed the location in which $SearchIncl, $SearchExcl, and $SearchGroup are set ²* Fixed bug in setting of $SearchExcl ²* Added filesize check after new page is written to disk but before replacing existing page²* Added $LinkUrl and $LinkAlt to urlapprove.php ²²!!!Version 2.0.beta36 (30-Apr-2005)²²This release fixes a rather large bug with excluded terms in the ²pagelist code, and a very minor bug with generating cells if there²are spaces after the final '||' in a simple table.²²!!!Version 2.0.beta35 (24-Apr-2005)²²This release fixes some bugs in the new pagelist code.²²!!!Version 2.0.beta34 (23-Apr-2005)²!!!Version 2.0.beta33 (22-Apr-2005)²²This release introduces a major redesign to the functionality and²speed of scripts/pagelist.php, which provides the support for ²[@(:pagelist:)@] and [@(:searchresults:)@] markups.  This version²now supports a [@link=@] parameter to return pages with links²to some target page (i.e., "backlinks").  We also now have²"order=" and "count=" parameters that can be used to sort the²listed pages and limit the length of the display.²²However, the changes also mean that it's possible that any²local customizations or cookbook recipes that depended on the²previous pagelist code will no longer work, so be careful²when upgrading.²²This release also optimizes the rendering of page links and²fixes a performance bug in the `FmtPageName() function.  These²changes have been observed to improve page rendering times by²up to 40%.²²What remains before the 2.0 official release:  redesign of the²edit page form, addition of a "comments" feature, and fixing²PmWiki documentation.  ²²Lastly, the trailing ?> sequences have been removed from all²scripts to simplify installations on VMS and other environments²that have trouble with newlines after the closing ?>.²²²!!!Version 2.0.beta32 (17-Apr-2005)²²Version beta32 adds the $RCLinesMax variable, which limits the maximum²number of lines that are saved in `RecentChanges files.  The default²is set to zero, meaning "no limit".²²!!!Version 2.0.beta31 (15-Apr-2005)²²This release adds the ability to store and serve attachments (uploads)²from directories that is not directly accessible to the webserver.  ²The "download" action ([@?action=download@]) tells PmWiki to retrieve²an attachment associated with the current page.  This can be used for²protecting attachments via a page's passwords, or for working around²webservers that cannot access files in the PmWiki-created ''uploads/''²directories.²²Setting $EnableDirectDownload=0; tells PmWiki to generate links to ²[@?action=download@] to retrieve attachments instead of accessing²the attachments directly through the webserver.  Note that this²setting by itself may not be enough to protect uploads; one may need²also need to to configure the webserver or ''uploads/'' directory²to block direct requests to the webserver for attachment files.²²This release also adds $EnableFixedUrlRedirect.  When PmWiki receives²a url with a "partial pagename" (such as the name of a WikiGroup),²it first determines the correct "full name" for the page.  Normally²PmWiki then issues a "redirect" to the browser requesting the browser²to reload the page with its full, "official" url, but setting²$EnableFixedUrlRedirect to zero will suppress the reload so that the²determined page is sent immediately (and keeps the same url used to²access the page).²²²!!!Version 2.0.beta30 (14-Apr-2005)²²This release works around some problems with PHP sessions resulting in²deadlocked web processes.  The changes to the authorization code in²2.0.beta29 greatly increased the likelihood of such deadlocks, so²all sites running 2.0.beta29 are encouraged to upgrade to this one.²²This release also changes the wikiword-handling functions so that²wikiwords are no longer spaced if $LinkWikiWords is disabled.²²Finally, this release adds $PageTextStartFmt and²$PageTextEndFmt to allow local customization of the container²surrounding <!--PageText--> in skin templates.²²²!!!Version 2.0.beta29 (11-Apr-2005)²This release incorporates some significant changes in the authorization²and page storage code, so production-level sites might want to wait for²any new bugs to found and fixed before upgrading.  Or, go ahead and²upgrade but be prepared to revert back to beta28 or earlier if you²start to notice problems.²²However, I do need lots of testers for the new code in this release,²of which there's a fair bit.  Thus, I'd greatly appreciate any²help people can provide with testing the new system and suggesting²improvements.  I'm particularly looking for suggestions about how²the interfaces can be made easier to understand.²²The Page Attributes form (reached via ?action=attr and used to set²passwords) has been improved so that it's now possible to see which²passwords have been set, and if those passwords are coming from the²group or site defaults.  For an example, see²http://www.pmwiki.org/wiki/Test/AttrExample?action=attr .  These²prompts are not yet internationalized -- I want to get the english²interface finalized first and then we'll make the i18n strings for it.²²Multiple passwords (separated by spaces) can now be set on pages and groups,²thus entering "one two" for an edit password will means that either "one" or²"two" will be accepted.  Because of this, passwords cannot contain²spaces (I hope this won't be a major loss -- let me know if it will).²²The password request field now appears within a normal skin layout²(i.e., with header, sidebar, footer); previously requests for²passwords were undecorated forms that appeared alone in the browser²window.²²There is an [=(:if auth ...:)=] conditional markup available for²processing depending on the current authorizations in effect.  For²example, one can create a bullet list with²    [=²    (:if auth read:)* [[View page -> {$Name}?action=browse]]²    (:if auth edit:)* [[Edit page -> {$Name}?action=edit]]²    (:if auth upload:)* [[Attachments -> {$Name}?action=upload]]²    (:if auth attr:)* [[Page Attributes -> {$Name}?action=attr]]²    (:if auth admin:)* You're logged in as admin²    (:ifend:)²    =]²and only those items corresponding to the user's current authorizations²will appear.  This should be very useful in creating action buttons.²²Assuming there's already some mechanism in place for identifying²and authenticating someone, pages can specify a password field of²"id:xyz", which means to allow only user "xyz" the specified²access.  For example, specifying an edit password of "id:alice"²means that only user "alice" (and the admin) is allowed to edit the²page.  Multiple ids can be specified as either "id:alice,bob,carol"²or "id:alice id:bob id:carol".  The special value "id:*" is used²to mean any authenticated user, and users can be excluded via the²minus sign, as in "id:-eve,*".²²User-based authentication can completely coexist and mix freely with²password-based authentication, thus an edit password of²"id:alice glorp" will allow Alice and anyone who knows the²password "glorp" to edit the page.²²2.0.beta29 supports only REMOTE_USER authentication; future releases²will add other authentication mechanism.²²!!!Version 2.0.beta28 (27-Mar-2005)²²This release makes some substantial improvements to the attachments/uploads feature in PmWiki.  The specific enhancements include:²²* The Attach: markup can now be used to reference attachments on other pages; the syntax is [@Attach:pagename/file.ext@].  The "pagename" can refer to pages in other groups.  ²²* Attachments automatically have the file extension (if any) converted to lowercase.²²* The [@(:attachlist:)@] markup now accepts parameters; ''ext='' can be used to limit the list of attachments to specific extensions, and one can supply a page's name to obtain a list of attachments for that page (e.g., [@(:attachlist Group.PageName:)@].²²²!!!Version 2.0.beta27 (26-Mar-2005)²²This release makes a number of minor changes and bugfixes.  The more significant changes are listed below.²²* The localmap.txt and farmmap.txt files can now contain $-variable substitutions (same as any variables available through `FmtPageName).²²* Most built-in directives are now case insensitive.²²* The (:markup:) directive now has a (:markup:) ... (:markupend:) version.  The previous (:markup:) [@[=...=]@] syntax is still supported, but may change in future releases.²²* A bug was fixed with preformatted text eating the leading whitespace character.²²* Added the missing [@{$FullName}@] markup.²²* Fixed a bug in the handling of $MetaRobots.²²!!!Version 2.0.beta26 (5-Mar-2005)²²This release adds support for edit page templates; i.e., site administrators can specify the default text for new pages.  More details are available at Cookbook:EditTemplates.²²!!!Version 2.0.beta25 (2-Mar-2005)²!!!Version 2.0.beta24 (1-Mar-2005)²²This release contains an important correction to the processing of QUERY_STRING parameters, and changes to the way that `PageNotFound messages are generated.  These are needed to prevent webcrawlers (notably the one used by inktomi) from generating long sequences of links to non-existent pages.²²This release also adds a `ParseArgs() function to make it easier for cookbook recipes and other components to parse directive arguments.  Documentation for the function will be forthcoming at Cookbook:ParseArgs.²²List and heading markups have been changed to consume any single space character that follows the list or heading marker.²²A $EnablePostAttrClearSession switch has been added to control whether or not changing a page's attributes causes any existing passwords to be forgotten.  The default is that changing attributes forgets any passwords entered; this can be changed by setting $EnablePostAttrClearSession to zero.²²²!!!Version 2.0.beta23 (24-Feb-2005)²²This release adds a couple of improvements.²²First, the passwording system has been improved slightly to hopefully make passwords a little less confusing (although more improvements are coming).  Previously PmWiki would remember all passwords previously entered during the current browser session.  In this release, changing a page's password causes PmWiki to "forget" all of the previously entered passwords, thus eliminating the confusion that arose when a page would appear unprotected when in fact a previously entered password was authorizing access.²²This release also adds as $EnablePageListProtect option.  When set, the [@(:pagelist:)@] and [@(:searchresults:)@] directives will exclude pages for which the browser does not have read authorization.²²!!!Version 2.0.beta22 (23-Feb-2005)²²This release makes some feature enhancements and some bugfixes.²²The skins loading code has undergone some enhancements and substantial rewriting, but it should have no negative impacts on existing skins.  The $BasicLayoutVars variable has been deprecated and is no longer needed.  This version introduces a SetTmplDisplay() function that makes it easier for local customizations to disable sections of a skin template.²²The password prompt form has been customized so that the cursor is²automatically placed in the form when the page is loaded.²²The ?action=source action has been fixed for pages with characters²outside of ASCII.²²The graphical button bar can now be used for buttons with arbitrary²HTML elements (e.g., "save" and "preview" buttons).²²Other changes are noted in the ChangeLog.²²!!!Version 2.0.beta21 (13-Feb-2005)²²This version has a number of changes.  The major change that could (but shouldn't) affect some sites is that PmWiki has changed its default umask from 000 to 002, which will improve the default permissions for files and directories created by PmWiki for some sites, while (hopefully) not affecting others.²²Many of you probably don't know (or care) what a umask is.  If everything still works after upgrading to this version, you can continue to not know or care.  However, if after upgrading to this version you start seeing file permission errors where you weren't seeing them before, try adding the line²²    umask(0);²²to your ''local/config.php'' and things should work again.  (And be sure to report that you ran into trouble so we can investigate and improve things for the next version!)²²This release also changes the <title> tag generated by ?action=rss²to properly honor the [@(:title:)@] setting on various pages.²²Finally, the release fixes some minor bugs in the HTML generation for [[simple tables]], corrects some bugs with settings for $AuthorPage and $AuthorLink, and makes some cookbook-related additions to the v1 conversion script.²²For more details, see the [[ChangeLog]].²²!!!Version 2.0.beta20 (30-Jan-2005)²²This version has a number of relatively minor changes.²²First, the $UrlLinkFmt variable has been modified so that links to external urls automatically have a rel='nofollow' attribute added to them, to help combat wiki spam as described in http://www.google.com/googleblog/2005/01/preventing-comment-spam.html.  Site administrators can customize $UrlLinkFmt and $UnapprovedLinkFmt to supply or omit rel='nofollow' as appropriate.²²The algorithm for creating page names from [@[[free links]]@] has been modified slightly.  First, letters following a hyphen are no longer automatically capitalized, thus [@[[page-link]]@] refers to a page named "Page-link" and not "Page-Link".  This is more compatible with version 1's naming syntax.  Also, single quotes don't promote the following letter to uppercase, thus [@[[John's page]]@] now links to [@JohnsPage@] and not [@JohnSPage@].²²Sites that want to keep PmWiki 2's prior behavior can do so with the following:²    [=²    $PageNameChars = '-[:alnum:]';²    $MakePageNamePatterns = array(²      "/[^$PageNameChars]+/" => ' ',²      "/(\\b\\w)/e" => "strtoupper('$1')",²      "/ /" => '');²    =]²²The localmap.txt InterMap file can now contain comments (denoted by leading '#' in the file).²²Headings (!! markup) can now have block wikistyles.²²More information is available in the PmWiki.ChangeLog.²²²!!!Version 2.0.beta19 (17-Jan-2005)²²PmWiki uses PHP's sessions for tracking passwords and page authorizations;  however, if a session times out (or is otherwise lost) while an author is in the middle of editing a password-protected page, the author's edits may be lost when re-prompted for the password.  This release fixes this problem by preserving the edit text and other posted form variables when prompting for a password.²²!!!Version 2.0.beta18 (17-Jan-2005)²²This release makes improvements to the gui buttons, fixes some bugs, and minor other improvements and changes.²²Alternate text is now valid inside of WikiTrails; i.e., one can use [@<<|[[TrailPage | alternate text]]|>>@]  to change the text of the link to the trailpage.²²The GUI button module has a number of changes.  ²* New images are provided for lists, indentation, headings, and tables, and the sample-config.php file has examples for configuring these additional buttons into the bar.  ²* The "Heading 3" button has now been changed into separate "Heading" and optional "Subheading" buttons.²* The "Attach:" (paperclip) button appears in the bar only if uploads are enabled for that page.²* For browsers that support it, clicking one of the buttons that adds text will leave the text highlighted (to make it easier to replace the text).²²This release also eliminates the <p>...</p> tags that were being generated around markup lines that contained other HTML block markups (e.g., search results, page listings, forms).  As a result, these pages are now valid HTML and pass the `W3C validator.²²$HTMLHeaderFmt has been changed so that skin designers can completely turn off the inline-styles mechanism used by PmWiki and other cookbook modules.  To disable the inline styles, use [@ $HTMLHeaderFmt['styles'] = ''; @].²²Finally, this release fixes a call to setlocale() which was supposed to only return the current locale but instead was causing the locale to change.²²²!!!Version 2.0.beta17 (12-Jan-2005)²²This release simply makes some minor bug fixes to wikistyles (colors set in wikistyles extend to anchor tags), arrays of default passwords, and advanced table handling.²²!!!Version 2.0.beta16 (11-Jan-2005)²!!!Version 2.0.beta15 (10-Jan-2005)²²The major feature of this release is the addition of the graphical buttons in the edit page.  By default this feature is disabled -- to enable it, use the following in config.php.²²    $EnableGUIButtons = 1;²²If your site customizes the $PageEditFmt variable, then note that the buttons are placed at the end of the $EditMessageFmt and that the <textarea> needs to have [@id='edit'@] in order for the buttons to work.²²The rss.php script has also been improved -- it now automatically translates named character entities (from HTML 4) into their numeric equivalents.  This eliminates a lot of feed validation errors and problems in specific RSS feed consumers.²²This release adds a $Titlespaced variable and [@{$Titlespaced}@] markup; $Titlespaced is replaced by either a page's title (if defined by the [@(:title:)@] directive) or by the spaced version of the page's name.²²Finally, a number of WikiStyles bugs have been fixed.²²²!!!Version 2.0.beta14 (28-Dec-2004)²²This release introduces a number of relatively minor optimizations and improvements, summarized below.  If you don't understand what any of these mean, they probably don't affect you.  :-) ²²* PmWiki's <img ...> tags now use style='border:0px;' instead of border='0'.²²* `PrintFmt() now calls Lock(0) to release any locks prior to sending output to the browser.  This is important because some webservers (notably Apache) sometimes get stuck when they're unable to send output to the browser, and thus inadvertently lock others from being able to edit/post pages.²²* $PageEditFmt now includes id='text' to make for easier styling/referencing.²²* `MarkupToHTML()'s "posteval" code has been changed considerably.²²* `PageExists() now caches results of checking for page existence.²²* Page urls are now automatically url-encoded as needed.²²* Many of PmWiki's internal regex patterns have been optimized to (hopefully) improve matching speed.²²* Comparisons to substr() have been replaced with more efficient comparison functions.²²²!!!Version 2.0.beta13 (22-Dec-2004)²²This release fixes a bug introduced in 2.0.beta7 that prevented the refcount.php (for ?action=refcount) from generating links correctly.  It also cleans up the handling of wikistyles and %-in-urls (which is what 2.0.beta7 was supposed to fix).²²In general, all sites using the 2.0.betaXX series are recommended to upgrade to this latest release.²²²!!!Version 2.0.beta12 (21-Dec-2004)²²This release adds a number of <div> tags and identifiers around the²various forms that PmWiki produces (e.g., uploads, search results,²attribute pages, etc.).  This makes such forms easier to style in CSS.²²In addition, this release adds some functionality to the urlapprove.php²script to limit the number of unapproved urls that can be saved in²a page (helps to combat wikispam).²²Finally the release adds the [@(:description:)@] markup for generating <meta name='description' ... /> tags in the output.  [@(:description:)@] may also get used for other features later on (e.g., excerpts in search results, etc.).²²!!!Version 2.0.beta11 (19-Dec-2004)²²This release primarily cleans up a number of items in the handling of uploads:²# A new $LinkUpload variable has been defined for $...Fmt strings -- it contains the URL of the upload page for the current attachment²# [@(:attachlist:)@] automatically adds "replace-attachment" links (denoted by triangles) to the items in the list²# After performing an upload, the "upload name" field is automatically cleared²# Fixed error message when upload exceeds maximum allowed by PHP²²This release also changes the `StopWatch() function (used internally for benchmarking/timing PmWiki performance) to only have an effect when $EnableStopWatch is set to 1 (wall clock timings only) or 2 (wall clock and user-process timings).²²!!!Version 2.0.beta10 (14-Dec-2004)²²This release makes some substantial improvements in the installation²procedure.  First, the installation steps have been simplified, and PmWiki²provides accurate instructions when it encounters a PHP "safe_mode"²environment.  ²²The release also provides better handling of the '.flock' file -- if²PmWiki discovers it cannot open an existing .flock file for writing,²it removes the file and tries again rather than complaining about it.²This makes the system more robust when page directories are going²through backup+restore.²²²!!!Version 2.0.beta9 (14-Dec-2004)²²This release provides some very minor bugfixes to the [@[[target |#]]@] markup, to the appearance of $...variables in documentation, and extends uploads.php to be able to work better with url rewriting.²²!!!Version 2.0.beta8  (13-Dec-2004)²²This release makes a number of reasonably significant changes.  First and²foremost, it changes the [@?pagename=@] uri syntax to be [@?n=@], and²installation now defaults to $EnablePathInfo = 0; to make better²compatibility.²²Sites which wish to continue using the [@.../Main/HomePage@] form of uri²instead of [@?n=Main.HomePage@] should set $EnablePathInfo = 1 in²config.php.  ²²This release also fixes a probable bug in the handling of author²names which was causing spaces to be incorrectly removed.²²2.0.beta8 includes features for advanced CSS styling of [[simple tables]]²via the $TableRowAttrFmt and $TableCellAttrFmt variables, more description ²will be forthcoming in a Cookbook recipe.  ²²Also, this release includes vastly improved support for UTF-8 sites,²including the ability to have UTF-8 characters in pagenames and²[@[[utf-8 links]]@].  We're still working out the details to be²able to support UTF-8 wikiwords -- PHP's functions don't provide²good support for this.  See scripts/xlpage-utf-8.php for more²information on UTF-8.²²Finally, the Q: and A: markups are back, and a few other minor²bug fixes and documentation improvements have been included.²²²!!!Version 2.0.beta7  (8-Dec-2004)²²This release has a number of improvements and changes to it.  First,²this release provides a ''scripts/xlpage-utf-8.php'' file, which adapts²PmWiki to be able to work somewhat with utf-8 characters in pagenames.²Since PHP's preg_* functions seem to be unable to detect UTF-8 alphanumeric²characters, the trade-off at the moment is that WikiWord links are limited²to the ASCII character set.  We're working on ways to get around this²restriction, however.²²The xlpage-utf-8.php script can be automatically loaded by any `XLPage ²translation that specifies 'xlpage-i18n' => 'utf-8'.²²This release also:²²* fixes up the .htaccess files that are placed in local/ and wiki.d/²* changes the default textarea size for the pmwiki skin, ²* restores the link/citation markup ([@[[target |#]]@])²* fixes the default value of $DefaultPageTextFmt (note this may change again)²* automatically converts instances of $Newline in posted text²²²!!!Version 2.0.beta6  (5-Dec-2004)²²This release contains a number of relatively minor bugfixes (see the ChangeLog), and it also restores the $WikiWordCount functionality from PmWiki 1 in which the wiki administrator can limit the number of conversions for each WikiWord.²²The ''sample-config.php'' file has been updated with more comments and suggestions for customizations.²²Finally, this release increases the default value of $MaxIncludes to 50 (and provides better documentation of the $MaxIncludes variable).²²!!!Version 2.0.beta5  (1-Dec-2004)²!!!Version 2.0.beta4  (1-Dec-2004)²²These releases fix a number of bugs introduced by the changes in 2.0.beta3.²Users of 2.0.beta3 are encouraged to upgrade directly to this release.²²!!!Version 2.0.beta3  (30-Nov-2004)²²This release provides a simple version of the [@(:attachlist:)@] markup (different sorting orders are not available yet as the syntax is likely to change), as well as fixes the PmWiki.EditQuickReference and PmWiki.UploadQuickReference pages.  It also provides default pages to lock passwords in the Main and PmWiki groups and adds uppercase versions for ".GIF", ".JPG", and ".PNG" files.²²Internally, this release also changes the edit page sequence to use the $_POST autoglobal instead of $_REQUEST (i.e., posting edits is only allowed via method='post' and not via query string parameters).²²!!!Version 2.0.beta2²²This release fixes the bug that caused $PageTemplateFmt to no longer²work in pmwiki-2.0.beta1.²²!!!Version 2.0.beta1²²This release marks PmWiki 2.0 as entering "beta" status, as it finally²begins moving towards official release.  The major change for this release²is in the skins code -- previous versions of PmWiki used $PageTemplateFmt²to specify the location of the template file to be used; newer versions²now use the $Skin variable to specify the location of the skins directory²(in pub/skins/) that contains the skin template file, php configuration²script, and other files.²²In general, if you previously had $PageTemplateFmt set to "pub/skins/myskin/myskin.tmpl", then you now simply set $Skin='myskin'; to get things to work.  See PmWiki.LayoutBasics for more details.²²!!!Version 2.0.devel releases²²These are the release notes for the development releases of PmWiki 2.0.²²First, this is definitely still in the development stages, so many²things are likely to change between now and the official releases.²²Second, at present there's not a good way to upgrade from PmWiki 1.0²to PmWiki 2.0, although upgrade support is expected to arrive in future²(development) releases.  So, you can use this version just to see the²new developments and gain some experience, but migrating from 1.0²to this version is still likely to be a bit of a chore.²²Bugs and other requests can be reported to the PmWiki Issue Tracking ²System at http://www.pmwiki.org/wiki/PITS/PITS.  Any help²in testing, development, and/or documentation is greatly appreciated.²
time=1122899951
