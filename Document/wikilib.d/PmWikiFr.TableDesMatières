version=pmwiki-2.0.beta26
newline=²
time=1111865428
text=!!!But²Générer une table des matières pour une page wiki, en utilisant les en-têtes (titres) trouvées sur  cette page.²²!!!Solution²Le script [[pagetoc.php->http://www.pmwiki.org/uploads/Cookbook/pagetoc.php]] -- ceci est une version de développement et nécessite des essais avec la version 2 de PmWiki.²²Mettre pagetoc.php dans votre répertoire  cookbook/ .²²Ajouter la ligne suivante au fichier local/config.php²²    [@include_once("cookbook/pagetoc.php");@]²²Quelques notes sur l'utilisation par rapport à d'autres scripts:²²* Il reconnait quelques balises complémentaires de PmWiki:Cookbook.MarkupExtensions, mais ''doit'' fonctionner sans nécessiter l'installation d'aucun autre script.²²* Si vous utilisez PmWiki:Cookbook.MarkupExtensions, vous '''devez''' utiliser la version 2.0.5 ou ultérieure (pour préserver l'indépendance des scripts, nombre de parties du script 2.0.4 ont été déplacées vers pagetoc)²²* ''pagetoc'' supprime la table dans la vue imprimée, mais PmWiki:Cookbook.PublishWikiTrail transforme l'action='print' en action='browse', aussi il faut inclure pagetoc ''avant'' d'inclure publish²²* Le script cesse de rechercher les en-têtes quand il atteint une directive de coupure de page [@(:breakpage:)@]²²!!!Discussion²L'utilisation la plus simple est d'ajouter la ligne suivante sur n'importe quelle page wiki²²    [@(:toc:)@]²²C'est tout. Toute en-tête après la directive toc sera listée, sur 2 niveaux.²²Vous pouvez faire apparaître les ancres en écrivant²²    [@(:toc anchors=visible:)@]²²Si vous avez entré vos propres ancres, le script les utilise. Si vous voulez que vos ancres soient visibles, écrivez²²    [@[[##ancre]]@] au lieu de  [@[[#ancre]]@]²²Vou pouvez changer le titre par défaut de la table en écrivant²²    [@(:toc Titre de remplacement:)@]²²Vous pouvez combiner des ancres visibles avec un autre titre en écrivant²²    [@(:toc anchors=visible Titre de remplacement:)@]²²Vous pouvez changer la liste numérotés en liste simple en écrivant²²    [@(:*toc:)@]²²²Vous pouvez utiliser des balises wiki dans vos en-têtes et ''toc'' créera un texte de lien approprié. En principe...²²Les balises Standard PmWiki [@[[#anchor | text]]@] sont acceptées. TableDesMatières améliore ceci de 2 manières:²²    [@[[#ancre | #]]@] utilise le texte du paragraphe après ²       [@[[#ancre]]@] comme texte de lien²²    [@[[#ancre | *]]@] utilise "ancre" comme texte de lien ²²!!!!Variables de configuration²²$DefaultTocTitle est mis à "On this page..."\\²$TocHeaderFmt est mis à "<b>$TocTitle</b>"\\²$VisibleAnchor est mis à &sect;\\²$VisibleAnchorLinks est mis à ''false'' (une ancre visible anchor mis comme titre; true en fait une référence HTML href)\\²$TocSize est mis à 'smaller'\\²$NumberToc est mis à ''true''²²Soyez certain d'affacter la variable $TocSize (à 'medium' par exemple) avant d'inclure le script pagetoc.²²Dans ce cas, le code qui définit le style est exécuté dès chargement du script, d'ou la nécessité de fixer la variable de taille avant l'inclusion. ²²!!!Limitations²Le code qui crée la table est embrouillé. L'étendre pour avoir plus de deux niveaux nécessite une réecriture complète de la fonction.²²!!!Contributeur²[[~jr]]²²----²%trail%<<|[[Index compléments]]|>>²²----²%tr% Traduction de Cookbook:PageTableOfContents - page originale sur PmWiki:PmWikiFr.TableDesMatières²²²
targets=PmWikiFr.PmWiki,PmWikiFr.TableDesMatières,Profiles.Jr,PmWikiFr.CréationAutomatiqueDeVignettes,PmWikiFr.IndexCompléments
author=PRZ
name=PmWikiFr.TableDesMatières
host=82.124.112.212
agent=Mozilla/5.0 (Windows; U; Windows NT 5.1; fr-FR; rv:1.7.6) Gecko/20050226 Firefox/1.0.1
rev=4
